### Introduction to Hamiltonian Mechanics
Hamiltonian mechanics is a way to describe how physical systems, like planets or pendulums, move over time, focusing on energy rather than just forces. It uses generalized coordinates \( q \) (like position) and their conjugate momenta \( p \) (related to momentum), forming a phase space that captures the system's state. This approach, developed by Sir William Rowan Hamilton in the 19th century, is particularly useful for complex systems with many parts, making it easier to find patterns and conservation laws.

### Reformulating Equations
One of the big advantages of Hamiltonian mechanics is how it turns complicated second-order differential equations, like those in Newtonian mechanics, into simpler first-order systems. For example, instead of dealing with acceleration directly, it works with energy, which can reveal hidden symmetries. This is similar to how Lagrangian mechanics uses the principle of least action, but Hamiltonian mechanics adds a focus on momenta, making it easier to analyze systems with constraints.

### Numerical Computations
When simulating these systems on computers, we need methods that keep the system's structure intact over long times. Symplectic integrators, like the leapfrog method, do this by preserving the symplectic form, ensuring accuracy. For instance, the leapfrog method updates position and momentum in a way that maintains energy conservation, which is crucial for long-term simulations in fields like celestial mechanics.

### Connections to Generative Modeling
In machine learning, Hamiltonian mechanics pops up in generative modeling through Hamiltonian Monte Carlo (HMC), a technique for sampling from complex probability distributions. It's especially useful in energy-based models (EBMs), where the probability of data is defined by an energy function. HMC helps explore these distributions efficiently, and it's also linked to other models like diffusion models, which use stochastic processes to generate data.

---

### Survey Note: A Deep Dive into Hamiltonian Mechanics and Its Applications

#### Introduction and Background
Hamiltonian mechanics, a reformulation of classical mechanics introduced by Sir William Rowan Hamilton in the 19th century, offers a powerful framework for analyzing dynamic systems through the lens of energy. Unlike Newtonian mechanics, which relies on second-order differential equations based on forces, Hamiltonian mechanics describes the system's evolution using first-order equations in terms of generalized coordinates \( q \) and their conjugate momenta \( p \). This approach is particularly valuable in physics, engineering, and increasingly, machine learning, due to its ability to simplify higher-order equations and reveal underlying symmetries.

The motivation for this exploration stems from the user's interest in how Hamiltonian mechanics reformulates higher-order equations into simpler forms, a strategy prevalent across mathematics, physics, and engineering. The Lagrangian and Hamiltonian approaches exemplify this, transforming Newtonian second-order equations into first-order systems or energy-based formulations, which can simplify analysis and uncover conservation laws. This survey note will trace the journey from the mathematical foundations to numerical computations and finally to generative modeling, with a focus on energy-based models (EBMs) and related concepts like diffusion and flow-based models.

#### Mathematical Theory and Formulation
To understand Hamiltonian mechanics, it's helpful to contrast it with Lagrangian mechanics. Lagrangian mechanics uses the principle of least action, where the path a system takes minimizes the action, defined by the Lagrangian \( \mathcal{L}(q, \dot{q}, t) = T - V \), with \( T \) as kinetic energy and \( V \) as potential energy. The Euler-Lagrange equations, given by:

\[
\frac{d}{dt}\left( \frac{\partial \mathcal{L}}{\partial \dot{q}_i} \right) - \frac{\partial \mathcal{L}}{\partial q_i} = 0,
\]

describe the motion. Hamiltonian mechanics, derived via a Legendre transformation, defines the Hamiltonian as:

\[
H(q, p) = p \cdot \dot{q} - \mathcal{L}(q, \dot{q}),
\]

where the conjugate momentum \( p_i = \frac{\partial \mathcal{L}}{\partial \dot{q}_i} \). This leads to Hamilton's equations:

\[
\dot{q}_i = \frac{\partial H}{\partial p_i}, \quad \dot{p}_i = -\frac{\partial H}{\partial q_i},
\]

which are first-order and often easier to handle than second-order equations. For example, for a simple harmonic oscillator, \( H = \frac{p^2}{2m} + \frac{1}{2} k q^2 \), these equations reduce to familiar forms, simplifying analysis.

The phase space, spanned by \( (q, p) \), is central to Hamiltonian mechanics, with its evolution preserving the symplectic form, a geometric property ensuring area preservation. Canonical transformations, which preserve the form of Hamilton's equations, are generated by functions and are crucial for simplifying problems, such as finding conserved quantities via Noether's theorem.

#### Numerical Computations in Hamiltonian Mechanics
Numerically simulating Hamiltonian systems requires methods that preserve their symplectic structure, as traditional methods like Euler or Runge-Kutta can lead to energy drift over long times. Symplectic integrators, such as the leapfrog method, are designed for this purpose. The leapfrog method, for a Hamiltonian \( H = T(p) + V(q) \), proceeds as follows:

1. Initialize \( q(0) \) and \( p(0) \).
2. For each step, update:
   - Momentum halfway: \( p_{n+1/2} = p_n - \frac{\delta t}{2} \frac{\partial V}{\partial q}(q_n) \),
   - Position: \( q_{n+1} = q_n + \delta t \frac{\partial T}{\partial p}(p_{n+1/2}) \),
   - Momentum fully: \( p_{n+1} = p_{n+1/2} - \frac{\delta t}{2} \frac{\partial V}{\partial q}(q_{n+1}) \).

This method is second-order accurate and preserves symplecticity, making it ideal for long-term simulations in celestial mechanics or molecular dynamics. Higher-order methods, like the Forest-Ruth or Yoshida algorithms, offer improved accuracy while maintaining this property.

#### Generative Modeling and Machine Learning Connections
In machine learning, Hamiltonian mechanics finds application in generative modeling, particularly through Hamiltonian Monte Carlo (HMC). HMC is a Markov chain Monte Carlo (MCMC) method that uses Hamiltonian dynamics to propose new states, improving sampling efficiency for complex, high-dimensional distributions. It's especially relevant for energy-based models (EBMs), where the probability distribution is defined as:

\[
p(x) = \frac{1}{Z} e^{-E(x)},
\]

with \( E(x) \) as the energy function and \( Z \) the partition function. HMC facilitates sampling by introducing auxiliary momentum variables and simulating dynamics, accepting or rejecting moves via the Metropolis-Hastings criterion.

For instance, in latent-variable generative modeling, HMC can explore posterior distributions efficiently, as seen in works like [Generalizing Hamiltonian Monte Carlo with Neural Networks](https://arXiv.org/abs/1711.09268). This connects to other generative models:
- **Diffusion Models**: These use stochastic differential equations, akin to EBMs, with energy defined through diffusion processes, though not directly Hamiltonian.
- **Flow-Based Models**: They use invertible transformations, relating to canonical transformations in Hamiltonian mechanics.
- **Schrodinger Bridges**: These involve finding the most likely path between distributions, potentially linked via path integrals in quantum mechanics, though the direct connection is less clear and requires further exploration.

#### Tables for Clarity
To organize the comparison between formulations, consider the following table:

| Aspect                  | Newtonian Mechanics       | Lagrangian Mechanics      | Hamiltonian Mechanics     |
|-------------------------|---------------------------|---------------------------|---------------------------|
| Order of Equations      | Second-order             | Second-order             | First-order              |
| Focus                   | Forces                   | Action (energy difference)| Energy (Hamiltonian)      |
| Phase Space             | Not explicit             | Implicit                 | Explicit (q, p)           |
| Symmetries              | Hard to find             | Easier via Noether        | Revealed via canonical transforms |

Another table for numerical methods:

| Method                  | Order | Preserves Symplecticity | Use Case                     |
|-------------------------|-------|------------------------|------------------------------|
| Euler Method            | 1     | No                     | Short-term, simple systems   |
| Leapfrog (Verlet)       | 2     | Yes                    | Long-term, Hamiltonian systems|
| Runge-Kutta 4           | 4     | No                     | General ODEs, not symplectic |

#### Conclusion and Future Directions
Hamiltonian mechanics, by reformulating higher-order equations into first-order systems, simplifies analysis across disciplines. Its numerical applications, via symplectic integrators, ensure accuracy in simulations, while in machine learning, HMC enhances sampling in EBMs, bridging to diffusion and flow-based models. Future research might explore deeper connections, like Schrodinger bridges, and extend HMC to neural network parameterizations, as seen in recent studies.

This exploration, grounded in resources like [Hamiltonian Mechanics For Dummies](https://profoundphysics.com/hamiltonian-mechanics-for-dummies/) and [Sympletic Integrators](https://en.wikipedia.org/wiki/Sympletic_integrator), highlights its versatility and ongoing relevance.

#### Key Citations
- [Hamiltonian Mechanics For Dummies: An Intuitive Introduction](https://profoundphysics.com/hamiltonian-mechanics-for-dummies/)
- [Hamiltonian mechanics Wikipedia page](https://en.wikipedia.org/wiki/Hamiltonian_mechanics)
- [An introduction to Lagrangian and Hamiltonian mechanics Lecture notes](https://www.macs.hw.ac.uk/~simonm/mechanics.pdf)
- [14: Hamiltonian Mechanics Physics LibreTexts page](https://phys.libretexts.org/Bookshelves/Classical_Mechanics/Classical_Mechanics_%28Tatum%29/14:_Hamiltonian_Mechanics)
- [Best book to learn Lagrangian and Hamiltonian formalism Quora question](https://www.quora.com/Which-is-the-best-book-to-learn-Lagrangian-and-Hamiltonian-formalism-in-classical-mechanics)
- [An Introduction to Hamiltonian Mechanics SpringerLink book](https://link.springer.com/book/10.1007/978-3-319-95225-3)
- [Resources for Lagrangian and Hamiltonian Dynamics Physics Stack Exchange question](https://physics.stackexchange.com/questions/135726/any-good-resources-for-lagrangian-and-hamiltonian-dynamics)
- [Sympletic integrator Wikipedia page](https://en.wikipedia.org/wiki/Sympletic_integrator)
- [Sympletic integration methods for Hamiltonian problems University of Tuebingen](https://na.uni-tuebingen.de/~lubich/chap6.pdf)
- [Sympletic integrators for Hamiltonian problems: an overview Cambridge Core article](https://www.cambridge.org/core/journals/acta-numerica/article/abs/sympletic-integrators-for-hamiltonian-problems-an-overvie/D835AE296BE8F4C76A42888E61E68E90)
- [Multi-sympletic integration methods for Hamiltonian PDEs ScienceDirect article](https://www.sciencedirect.com/science/article/abs/pii/S0167739X02001668)
- [A new sympletic integrator for stochastic Hamiltonian systems on manifolds ScienceDirect article](https://www.sciencedirect.com/science/article/abs/pii/S0266892023001157)
- [Sympletic integration of learned Hamiltonian systems PubMed article](https://pubmed.ncbi.nlm.nih.gov/35105124/)
- [Semi-implicit Euler method Wikipedia page](https://en.wikipedia.org/wiki/Semi-implicit_Euler_method)
- [Sympletic Numerical Integrators in Constrained Hamiltonian Systems ScienceDirect article](https://www.sciencedirect.com/science/article/abs/pii/S0021999184710850)
- [1.7: Sympletic integrators Mathematics LibreTexts page](https://math.libretexts.org/Bookshelves/Differential_Equations/Numerically_Solving_Ordinary_Differential_Equations_%28Brorson%29/01:_Chapters/1.07:_Sympletic_integrators)
- [Sympletic Integration of Stochastic Hamiltonian Systems SpringerLink book](https://link.springer.com/book/10.1007/978-981-19-7670-4)
- [Generalizing Hamiltonian Monte Carlo with Neural Networks arXiv paper](https://arXiv.org/abs/1711.09268)
- [Generalizing Hamiltonian Monte Carlo with Neural Networks ResearchGate paper](https://www.researchgate.net/publication/321325848_Generalizing_Hamiltonian_Monte_Carlo_with_Neural_Networks)
- [Learning Hamiltonian Monte Carlo in R PMC article](https://pmc.ncbi.nlm.nih.gov/articles/PMC10353725/)
- [14.1 Hamiltonian Monte Carlo Stan Reference Manual page](https://mc-stan.org/docs/2_19/reference-manual/hamiltonian-monte-carlo.html)
- [Hamiltonian Monte Carlo from scratch Colin Carroll blog post](https://colindcarroll.com/2019/04/11/hamiltonian-monte-carlo-from-scratch/)
- [Hamiltonian Monte Carlo Wikipedia page](https://en.wikipedia.org/wiki/Hamiltonian_Monte_Carlo)
- [Generalizing Hamiltonian Monte Carlo with Neural Networks OpenReview paper](https://openreview.net/forum/?id=B1n8LexRZ)
- [Generative Art and Hamiltonian Monte Carlo The Talking Machines episode](https://www.thetalkingmachines.com/episodes/generative-art-and-hamiltonian-monte-carlo)
- [Hamiltonian (quantum mechanics) Wikipedia page](https://en.wikipedia.org/wiki/Hamiltonian_%28quantum_mechanics%29)
- [Schrödinger equation Wikipedia page](https://en.wikipedia.org/wiki/Schr%25C3%25B6dinger_equation)
- [The Hamiltonian in Quantum Mechanics HyperPhysics page](http://hyperphysics.phy-astr.gsu.edu/hbase/quantum/hamil.html)
- [The Hamiltonian in Quantum Mechanics arXiv paper](https://arXiv.org/pdf/quant-ph/0311109)
- [2.3. The Hamiltonian and Schrodinger’s Wave Equation University of York page](https://www-users.york.ac.uk/~pjd113/markdown/2_3_TheHamiltonianAndSWE.html)
- [18.3: Hamiltonian in Quantum Theory Physics LibreTexts page](https://phys.libretexts.org/Bookshelves/Classical_Mechanics/Variational_Principles_in_Classical_Mechanics_%28Cline%29/18:_The_Transition_to_Quantum_Physics/18.03:_Hamiltonian_in_Quantum_Theory)
- [Schrödinger's Equation University of Durham page](https://www.maths.dur.ac.uk(users/kasper.peeters/mathphys/schroedinger.html)
- [Quantum Hamilton equations of motion for bound states AIP Publishing article](https://pubs.aip.org/aip/jmp/article/59/6/062102/985403/Quantum-Hamilton-equations-of-motion-for-bound)
- [Hamiltonian Operator ScienceDirect Topics page](https://www.sciencedirect.com/topics/mathematics/hamiltonian-operator)
- [Schrödinger's Equation: Explained & How To Use It Sciencing article](https://www.sciencing.com/schrodingers-equation-explained-how-to-use-it-13722578/)